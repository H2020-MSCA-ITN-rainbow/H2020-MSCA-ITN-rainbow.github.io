<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="styles.css" />
    <title>H2020-MSCA-ITN-rainbow</title>
  </head>
  <body>
    <div class="header">
      <a href="index.html"> GRIT</a>
    </div>

<div class="topnav">
  <a href="about.html">About Grit</a>
  <a href="download.html">Download</a>
  <a href="install.html">Install</a>
  <a href="python.html">Python interface</a>
  <a href="tutorials.html">Tutorials</a>
</div>

<div class="main">
<h2>Installing GRIT</h2>
<p>
To install GRIT, you first need to <a href="download.html">download</a> the source code. We use <a href="https://cmake.org/">CMake</a> to generate project files, so if you do not have CMake installed already, you need to do so before continuing.
</p>
<p>
  GRIT has a number of dependencies, which we divide in two categories: external and bundled. External dependencies need to be installed on your system <b>before</b> you can generate your project files. Bundled dependencies are included with the source code in the folder
  3RDPARTY, and work "out of the box".
</p>
<h3>External dependencies</h3>
<ul>
  <li>
    <p><a href="https://www.boost.org/">Boost</a>: Unit-tests in GRIT are written using the Boost unit test framework. This means you need to make sure your boost installation will install the binaries from Boost that supports this framework</p>
  </li>
  <li>
    <p><a href="https://developer.nvidia.com/cuda-toolkit">NVIDIA CUDA Toolkit</a>: Some simulators (not all) use CUSP to solve linear systems. CUSP requires NVIDIA CUDA Toolkit. The CUSP version used by GRIT is bundled with 3RDPARTY. If you do not install CUDA, make sure that the ENABLE_CUDA parameter in CMake is set to 0 (this should be the default value).  </p>
  </li>
</ul>
<h3>Bundled dependencies</h3>
<ul>
  <li>
    <p><a href="https://github.com/erleben/OpenTissue">OpenTissue</a>: used for the underlying mesh structure</p>
  </li>
  <li>
    <p><a href="https://cusplibrary.github.io/md_quickstart.html">CUSP</a>: a template library for sparse matrix computations, used in a subset of the simulators in GRIT</p>
</body>
  </li>
</ul>
<h3>CMake</h3>
<p>
  The following walkthrough assumes the use of cmake-gui, the grafical interface to CMake.
</p>
<h4>step 1</h4>
<p>Point CMake to the folder where the source is located. In this example, GRIT-master is the folder the source code has been cloned to. This folder contains three folders: 3RDPARTY, GRIT, and UTILITIES, and a handful of information files of various formats. The folder we need to point CMake to, is the GRIT folder.</p>
<div class="responsive">
  <div class="gallery">
    <a target="_blank" href="imgs/01_cmake_source_rep.png">
      <img src="imgs/01_cmake_source_rep.png" alt="Add source path to CMake" width="600" height="400">
    </a>
    <div class="desc">Set source folder</div>
  </div>
</div>
<h4>step 2</h4>
<p>
  Let CMake know where to build the project binaries. CMake needs to know where to place all the files it generates for the project, in this example we tell CMake to create a folder called 'build' in the GRIT folder. If the specified folder does not already exist, CMake asks if you want to create it, click 'Yes'.
</p>
<div class="responsive">
  <div class="gallery">
    <a target="_blank" href="imgs/02_cmake_build_rep.png">
      <img src="imgs/02_cmake_build_rep.png" alt="Add build path to CMake" width="600" height="400">
    </a>
    <div class="desc">Set build folder</div>
  </div>
</div>

<div class="responsive">
  <div class="gallery">
    <a target="_blank" href="imgs/03_build_doesnt_exist.png">
      <img src="imgs/03_build_doesnt_exist.png" alt="Build repository does not exist, create new?" width="600" height="400">
    </a>
    <div class="desc">Let CMake create build folder</div>
  </div>
</div>
<h4>step 3</h4>
<p>
  CMake can create project files for a number of IDEs, choose the one that you prefer to work with. In this example, Xcode is chosen.
</p>
<div class="responsive">
  <div class="gallery">
    <a target="_blank" href="imgs/04_specify_generator.png">
      <img src="imgs/04_specify_generator.png" alt="Specify project generator" width="600" height="400">
    </a>
    <div class="desc">Specify project generator</div>
  </div>
</div>
<h4>step 4</h4>
<p>
  To configure your project, you hit the 'Configure' button. This makes CMake go through all your CMake scripts (called CMakeLists.txt) and generates a platform specific build script. A list is generated where you can see all the variables CMake has created, and their current values.
</p>
<div class="responsive">
  <div class="gallery">
    <a target="_blank" href="imgs/06_configure_first.png">
      <img src="imgs/06_configure_first.png" alt="Configure your project, round 1" width="600" height="400">
    </a>
    <div class="desc">Configure your project</div>
  </div>
</div>
<p>
  Inspect the output window (bottom window) for any issues, this is where you will see whether CMake was able to find all the dependencies. You can change the values of the CMake variables, for instance you can help by adding any paths that CMake was not able to resolve. You can also enable/disable project settings, such as the 'ENABLE_CUDA' variable. When all issues are resolved and you are happy with the settings, hit 'Configure' again.
</p>
<div class="responsive">
  <div class="gallery">
    <a target="_blank" href="imgs/07_configure_second.png">
      <img src="imgs/07_configure_second.png" alt="Configure your project, round two" width="600" height="400">
    </a>
    <div class="desc">Resolve issues, and configure again</div>
  </div>
</div>
<h4>step 4</h4>
The last CMake step is to generate the project file, hit 'Generate'.
<div class="responsive">
  <div class="gallery">
    <a target="_blank" href="iimgs/08_generate.png">
      <img src="imgs/08_generate.png" alt="Generate project" width="600" height="400">
    </a>
    <div class="desc">Generate project file</div>
  </div>
</div>
</div>
</html>
